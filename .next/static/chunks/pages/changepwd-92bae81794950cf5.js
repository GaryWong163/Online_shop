(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{684:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/changepwd",function(){return a(1884)}])},1884:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var r=a(7876),t=a(4232),u=a(9099),n=a(1040);let l=()=>{let[e,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[o,d]=(0,t.useState)(""),[i,c]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[w,g]=(0,t.useState)(""),v=(0,u.useRouter)(),_=async s=>{if(s.preventDefault(),!e||!a||!o||!i)return void p("All fields are required.");if(o!==i)return void p("New passwords do not match.");try{await n.A.post("/auth/change-password",{email:e,currentPassword:a,newPassword:o},{withCredentials:!0}),g("Password changed successfully. You will be logged out."),setTimeout(()=>{v.push("/login")},2e3)}catch(e){var r,t;p((null==(t=e.response)||null==(r=t.data)?void 0:r.error)||"Failed to change password.")}};return(0,r.jsxs)("div",{className:"change-password-container",children:[(0,r.jsx)("h2",{children:"Change Password"}),h&&(0,r.jsx)("p",{className:"error",children:h}),w&&(0,r.jsx)("p",{className:"success",children:w}),(0,r.jsxs)("form",{onSubmit:_,children:[(0,r.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>s(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Current Password",value:a,onChange:e=>l(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"New Password",value:o,onChange:e=>d(e.target.value),required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"Confirm New Password",value:i,onChange:e=>c(e.target.value),required:!0}),(0,r.jsx)("button",{type:"submit",children:"Change Password"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[846,636,593,792],()=>s(684)),_N_E=e.O()}]);