(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{1564:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/laptop",function(){return r(5387)}])},5061:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var i=r(7876);r(4232);var c=r(2415);let s=e=>{let{product:t}=e;return(0,i.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem("cart")||"[]"),r=e.findIndex(e=>e.pid===t.pid);r>=0?e[r].quantity+=t.quantity||1:e.push({...t,quantity:t.quantity||1}),localStorage.setItem("cart",JSON.stringify(e)),console.log("Cart updated:",e),c.A.emit("cartUpdated")},children:(0,i.jsxs)("p",{children:["Add to Cart - $",t.price.toFixed(2)]})})}},5387:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var i=r(7876),c=r(4232),s=r(7328),a=r.n(s),l=r(8230),n=r.n(l),d=r(9765),o=r(7094),h=r(5061);let p=()=>{let[e,t]=(0,c.useState)([]),[r,s]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{s(!0),(async()=>{try{let e=await fetch("/api/laptop");if(!e.ok)throw Error("Failed to fetch products");let r=(await e.json()).map(e=>({...e,price:Number(e.price)}));t(r)}catch(e){console.error("Error fetching products:",e)}})()},[]),r)?(0,i.jsxs)("div",{children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"Online Store"})}),(0,i.jsx)(d.A,{}),(0,i.jsx)(o.A,{}),(0,i.jsx)("section",{className:"menu",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/",legacyBehavior:!0,children:(0,i.jsx)("a",{children:"Home"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{children:" > "})}),(0,i.jsx)("li",{children:(0,i.jsx)(n(),{href:"/laptop",legacyBehavior:!0,children:(0,i.jsx)("a",{children:"Laptop"})})})]})}),(0,i.jsx)("section",{className:"product-list",children:e.map(e=>(0,i.jsxs)("div",{className:"product-item",children:[(0,i.jsx)(n(),{href:"/product/".concat(e.pid),legacyBehavior:!0,children:(0,i.jsx)("a",{children:(0,i.jsx)("img",{src:"/uploads/".concat(e.image),alt:e.name})})}),(0,i.jsx)(n(),{href:"/product/".concat(e.pid),legacyBehavior:!0,children:(0,i.jsx)("a",{children:(0,i.jsx)("p",{children:e.name})})}),(0,i.jsxs)("p",{children:["$",e.price.toFixed(2)]}),(0,i.jsx)(h.A,{product:e})]},e.pid))})]}):null}},7328:(e,t,r)=>{e.exports=r(9836)}},e=>{var t=t=>e(e.s=t);e.O(0,[846,230,125,764,636,593,792],()=>t(1564)),_N_E=e.O()}]);