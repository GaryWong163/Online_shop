(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955],{4258:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var i=r(7876),s=r(4232),c=r(7328),n=r.n(c),a=r(9765),d=r(7094),l=r(5061),o=r(8230),h=r.n(o),p=r(9099);let u=()=>{let[e,t]=(0,s.useState)(null),[r,c]=(0,s.useState)(!1),o=(0,p.useRouter)(),{pid:u}=o.query;if((0,s.useEffect)(()=>{c(!0),u&&(async()=>{try{let e=await fetch("/api/".concat(u));if(!e.ok)throw Error("Failed to fetch product");let r=await e.json();r.price=Number(r.price),t(r)}catch(e){console.error("Error fetching product:",e),o.push("/404")}})()},[u]),!r||!e)return(0,i.jsx)("div",{children:"Loading..."});let x=1===e.catid?"smartphone":2===e.catid?"laptop":"",j=1===e.catid?"Smart Phone":2===e.catid?"Laptop":"Unknown Category";return(0,i.jsxs)("div",{children:[(0,i.jsx)(n(),{children:(0,i.jsxs)("title",{children:[e.name," - Online Store"]})}),(0,i.jsx)("header",{children:(0,i.jsx)(a.A,{})}),(0,i.jsx)("div",{className:"shoppingcart",children:(0,i.jsx)(d.A,{})}),(0,i.jsx)("section",{className:"menu",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(h(),{href:"/",children:"Home"})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{children:">"})}),(0,i.jsx)("li",{children:(0,i.jsx)(h(),{href:"/".concat(x),children:j})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{children:">"})}),(0,i.jsx)("li",{children:(0,i.jsx)(h(),{href:"/product/".concat(e.pid),children:e.name})})]})}),(0,i.jsxs)("section",{className:"product-display",children:[(0,i.jsx)("img",{src:"/uploads/".concat(e.image),alt:e.name}),(0,i.jsx)("h1",{children:e.name}),(0,i.jsxs)("p",{className:"price",children:["$",e.price.toFixed(2)]}),(0,i.jsx)("p",{className:"short-description",children:e.description}),(0,i.jsx)(l.A,{product:e})]})]})}},4784:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[pid]",function(){return r(4258)}])},5061:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var i=r(7876);r(4232);var s=r(2415);let c=e=>{let{product:t}=e;return(0,i.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem("cart")||"[]"),r=e.findIndex(e=>e.pid===t.pid);r>=0?e[r].quantity+=t.quantity||1:e.push({...t,quantity:t.quantity||1}),localStorage.setItem("cart",JSON.stringify(e)),console.log("Cart updated:",e),s.A.emit("cartUpdated")},children:(0,i.jsxs)("p",{children:["Add to Cart - $",t.price.toFixed(2)]})})}},7328:(e,t,r)=>{e.exports=r(9836)}},e=>{var t=t=>e(e.s=t);e.O(0,[846,230,125,764,636,593,792],()=>t(4784)),_N_E=e.O()}]);