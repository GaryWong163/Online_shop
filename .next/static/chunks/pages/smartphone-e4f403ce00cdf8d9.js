(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[713],{5061:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var i=t(7876);t(4232);var s=t(2415);let c=e=>{let{product:r}=e;return(0,i.jsx)("button",{onClick:()=>{let e=JSON.parse(localStorage.getItem("cart")||"[]"),t=e.findIndex(e=>e.pid===r.pid);t>=0?e[t].quantity+=r.quantity||1:e.push({...r,quantity:r.quantity||1}),localStorage.setItem("cart",JSON.stringify(e)),console.log("Cart updated:",e),s.A.emit("cartUpdated")},children:(0,i.jsxs)("p",{children:["Add to Cart - $",r.price.toFixed(2)]})})}},5414:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/smartphone",function(){return t(6718)}])},6718:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var i=t(7876),s=t(4232),c=t(7328),a=t.n(c),n=t(8230),l=t.n(n),d=t(9765),o=t(7094),h=t(5061);let p=()=>{let[e,r]=(0,s.useState)([]),[t,c]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{c(!0),(async()=>{try{let e=await fetch("/api/smartphones");if(!e.ok)throw Error("Failed to fetch products");let t=(await e.json()).map(e=>({...e,price:Number(e.price)}));r(t)}catch(e){console.error("Error fetching products:",e)}})()},[]),t)?(0,i.jsxs)("div",{children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"Online Store"})}),(0,i.jsx)(d.A,{}),(0,i.jsx)(o.A,{}),(0,i.jsx)("section",{className:"menu",children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(l(),{href:"/",legacyBehavior:!0,children:(0,i.jsx)("a",{children:"Home"})})}),(0,i.jsx)("li",{children:(0,i.jsx)("span",{children:" > "})}),(0,i.jsx)("li",{children:(0,i.jsx)(l(),{href:"/smartphone",legacyBehavior:!0,children:(0,i.jsx)("a",{children:"Smartphone"})})})]})}),(0,i.jsx)("section",{className:"product-list",children:e.map(e=>(0,i.jsxs)("div",{className:"product-item",children:[(0,i.jsx)(l(),{href:"product/".concat(e.pid),legacyBehavior:!0,children:(0,i.jsx)("a",{children:(0,i.jsx)("img",{src:"/uploads/".concat(e.image),alt:e.name})})}),(0,i.jsx)(l(),{href:"product/".concat(e.pid),legacyBehavior:!0,children:(0,i.jsx)("a",{children:(0,i.jsx)("p",{children:e.name})})}),(0,i.jsxs)("p",{children:["$",e.price.toFixed(2)]}),(0,i.jsx)(h.A,{product:e})]},e.pid))})]}):null}},7328:(e,r,t)=>{e.exports=t(9836)}},e=>{var r=r=>e(e.s=r);e.O(0,[846,230,125,764,636,593,792],()=>r(5414)),_N_E=e.O()}]);